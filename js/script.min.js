var modal=document.querySelector(".modal"),modalCloseButton=".modal__close",modalShowClass="modal--show",modalErrorClass="modal--error";function modalShow(e,a,o=[]){e.addEventListener("click",function(e){e.preventDefault(),a.classList.add(modalShowClass),0!==o.length&&o.focus()})}function modalClose(e,a){e.addEventListener("click",function(e){e.preventDefault(),a.classList.remove(modalShowClass),a.classList.remove(modalErrorClass)}),window.addEventListener("keydown",function(e){27===e.keyCode&&(e.preventDefault(),a.classList.contains(modalShowClass)&&(a.classList.remove(modalShowClass),a.classList.remove(modalErrorClass)))})}var addedCartButtons=document.querySelectorAll(".button.button--buy"),addedCartModal=document.querySelector(".modal.modal--added-cart");if(null!==addedCartButtons&&null!==addedCartModal){var addedCartCloseButton=addedCartModal.querySelector(modalCloseButton);modalClose(addedCartCloseButton,addedCartModal),Array.prototype.forEach.call(addedCartButtons,function(e){modalShow(e,addedCartModal)})}var mapButton=document.querySelector(".map-link"),mapModal=document.querySelector(".modal.modal--map");if(null!==mapButton&&null!==mapModal){var mapCloseButton=mapModal.querySelector(modalCloseButton);modalShow(mapButton,mapModal),modalClose(mapCloseButton,mapModal)}var feedbackButton=document.querySelector(".feedback-button"),feedbackModal=document.querySelector(".modal.modal--feedback");if(null!==feedbackButton&&null!==feedbackModal){var feedbackCloseButton=feedbackModal.querySelector(modalCloseButton),feedbackForm=feedbackModal.querySelector(".feedback-form"),feedbackFormFields=feedbackForm.querySelectorAll("[name]"),feedbackFormName=feedbackForm.querySelector("[name='name']"),feedbackFormEmail=feedbackForm.querySelector("[name='email']"),feedbackFormMessage=feedbackForm.querySelector("[name='message']");modalShow(feedbackButton,feedbackModal,feedbackFormName),modalClose(feedbackCloseButton,feedbackModal),Array.prototype.forEach.call(feedbackFormFields,function(e){!0===e.required&&(e.required=!1)}),feedbackForm.addEventListener("submit",function(e){feedbackFormName.value&&feedbackFormEmail.value&&feedbackFormMessage.value||(e.preventDefault(),feedbackModal.classList.remove(modalErrorClass),feedbackModal.offsetWidth=feedbackForm.offsetWidth,feedbackModal.classList.add(modalErrorClass))})}